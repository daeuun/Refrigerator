<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>


	<!-- @author daeun, seong -->

	<!-- @author seong -->
	<!-- 레시피 상세 페이지의 댓글 전체 목록 조회 리스트  -->
	<entry key="selectReplyList">
	
		
		SELECT REPLY_NO
		    ,NICKNAME
		    ,TO_CHAR(R.ENROLL_DATE,'YY/MM/DD') CREATE_DATE
		    ,REPLY_CONTENT
		FROM REPLY R
		JOIN MEMBER M USING (USER_NO)
		WHERE M.STATUS = 'Y'
		AND RECIPE_NO = ?
		ORDER BY R.ENROLL_DATE DESC
	
	</entry>
	
	<!-- @author seong -->
	<!-- 레시피 상세 페이지 댓글 작성 기능  -->
	<entry key="insertReply">
	
		INSERT INTO REPLY
    	(
        REPLY_NO
        ,USER_NO
        ,RECIPE_NO
        ,REPLY_CONTENT
   		 )
        VALUES
    	(
        SEQ_CNO.NEXTVAL
        ,?
        ,?
        ,?
    	)
	
	</entry>
	
		
	<!-- @author seong -->
	<!-- 레시피 후기 조회하기 -->
	
	<entry key="selectReviewList">
		SELECT 
		    REVIEW_NO
		    ,NICKNAME
		    ,REVIEW_CONTENT
		    ,STAR
		    ,IMG_NAME
		    ,R.ENROLL_DATE ENROLL_DATE
		   
		    
		FROM REVIEW R
		JOIN MEMBER USING(USER_NO)
		WHERE RECIPE_NO = ?
		ORDER BY ENROLL_DATE DESC
	</entry>
	
	
	
	<!-- @author seong -->
	<!-- 레시피 후기 작성 기능 -->
	<entry key="insertReview">
	
	INSERT INTO REVIEW
	    (
	        REVIEW_NO
	        ,USER_NO
	        ,RECIPE_NO
	        ,REVIEW_CONTENT
	        ,STAR
	        ,IMG_NAME
	    ) VALUES
	    (
	        SEQ_RVNO.NEXTVAL
	        , ?
	        , ?
	        , ?
	        , ?
	        , ?
	    )
	    
	</entry>  
	
	<!-- @author daeun -->
	<!-- 관리자페이지 - 배너 레시피 조회 -->
	<entry key="selectRecipe">
		SELECT RECIPE_NO
		     , USER_ID
		     , RECIPE_TITLE
		     , MAIN_IMG
		  FROM RECIPE R
		  JOIN MEMBER USING (USER_NO)
		 WHERE RECIPE_NO = ?
		   AND R.STATUS = 'Y'
	</entry>

</properties>